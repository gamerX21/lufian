function Lightbox(){function t(){return window.innerHeight||document.documentElement.offsetHeight}function e(){return window.innerWidth||document.documentElement.offsetWidth}function i(t,e,i,n){t.addEventListener?t.addEventListener(e,i,n||!1):t.attachEvent&&t.attachEvent("on"+e,i)}function n(t,e){if(t&&e)return new RegExp("(^|\\s)"+e+"(\\s|$)").test(t.className)}function o(t,e){if(t&&e)return t.className=t.className.replace(new RegExp("(?:^|\\s)"+e+"(?!\\S)"),""),t}function r(t,e){if(t&&e)return n(t,e)||(t.className+=" "+e),t}function a(t){return void 0!==t}function s(t,e){if(!t||!a(t))return!1;var i;return t.getAttribute?i=t.getAttribute(e):t.getAttributeNode&&(i=t.getAttributeNode(e).value),!(!a(i)||""===i)&&i}function l(t,e){if(!t||!a(t))return!1;var i;return t.getAttribute?i=t.getAttribute(e):t.getAttributeNode&&(i=t.getAttributeNode(e).value),"string"==typeof i}function p(t){i(t,"click",function(e){c(e),u(e),W=s(t,L+"-group")||!1,B=t,x(t,!1,!1,!1)},!1)}function c(t){t.stopPropagation?t.stopPropagation():t.returnValue=!1}function u(t){t.preventDefault?t.preventDefault():t.returnValue=!1}function d(t){for(var e=[],i=0;i<T.thumbnails.length;i++)s(T.thumbnails[i],L+"-group")===t&&e.push(T.thumbnails[i]);return e}function m(t,e){for(var i=d(e),n=0;n<i.length;n++)if(s(t,"src")===s(i[n],"src")&&s(t,L+"-index")===s(i[n],L+"-index")&&s(t,L)===s(i[n],L))return n}function f(){if(W){var t=new Image,e=new Image,i=m(B,W);i===R.length-1?(t.src=s(R[R.length-1],L)||R[R.length-1].src,e.src=s(R[0].src,L)||R[0].src):0===i?(t.src=s(R[R.length-1],L)||R[R.length-1].src,e.src=s(R[1],L)||R[1].src):(t.src=s(R[i-1],L)||R[i-1].src,e.src=s(R[i+1],L)||R[i+1].src)}}function g(){if(!H){h();var t=function(){if(r(T.box,C+"-loading"),!O&&"number"==typeof T.opt.loadingAnimation){var t=0;A=setInterval(function(){r(q[t],C+"-active"),setTimeout(function(){o(q[t],C+"-active")},T.opt.loadingAnimation),t=t>=q.length?0:t+=1},T.opt.loadingAnimation)}};_=setTimeout(t,500)}}function h(){if(!H&&(o(T.box,C+"-loading"),!O&&"string"!=typeof T.opt.loadingAnimation&&T.opt.loadingAnimation)){clearInterval(A);for(var t=0;t<q.length;t++)o(q[t],C+"-active")}}function v(){if(!D){if(D=document.createElement("span"),r(D,C+"-next"),T.opt.nextImg){var t=document.createElement("img");t.setAttribute("src",T.opt.nextImg),D.appendChild(t)}else r(D,C+"-no-img");i(D,"click",function(t){c(t),T.next()},!1),T.box.appendChild(D)}if(r(D,C+"-active"),!G){if(G=document.createElement("span"),r(G,C+"-prev"),T.opt.prevImg){var e=document.createElement("img");e.setAttribute("src",T.opt.prevImg),G.appendChild(e)}else r(G,C+"-no-img");i(G,"click",function(t){c(t),T.prev()},!1),T.box.appendChild(G)}r(G,C+"-active")}function y(){if(T.opt.responsive&&D&&G){var e=t()/2-D.offsetHeight/2;D.style.top=e+"px",G.style.top=e+"px"}}function b(t){function e(t){return"boolean"!=typeof t||t}if(t||(t={}),T.opt={boxId:t.boxId||!1,controls:e(t.controls),dimensions:e(t.dimensions),captions:e(t.captions),prevImg:"string"==typeof t.prevImg&&t.prevImg,nextImg:"string"==typeof t.nextImg&&t.nextImg,hideCloseBtn:t.hideCloseBtn||!1,closeOnClick:"boolean"!=typeof t.closeOnClick||t.closeOnClick,nextOnClick:e(t.nextOnClick),loadingAnimation:void 0===t.loadingAnimation||t.loadingAnimation,animElCount:t.animElCount||4,preload:e(t.preload),carousel:e(t.carousel),animation:"number"==typeof t.animation||!1===t.animation?t.animation:400,responsive:e(t.responsive),maxImgSize:t.maxImgSize||.8,keyControls:e(t.keyControls),hideOverflow:t.hideOverflow||!0,onopen:t.onopen||!1,onclose:t.onclose||!1,onload:t.onload||!1,onresize:t.onresize||!1,onloaderror:t.onloaderror||!1,onimageclick:"function"==typeof t.onimageclick&&t.onimageclick},T.opt.boxId){T.box=document.getElementById(T.opt.boxId);var n=T.box.getAttribute("class");n.search(C+" ")<0&&T.box.setAttribute("class",n+" "+C)}else if(!T.box){var a=document.getElementById(Q);a||(a=document.createElement("div")),a.setAttribute("id",Q),a.setAttribute("class",C),T.box=a,z.appendChild(T.box)}if(T.box.innerHTML=M,H&&r(T.box,C+"-ie8"),T.wrapper=document.getElementById(Q+"-contentwrapper"),!T.opt.hideCloseBtn){var s=document.createElement("span");s.setAttribute("id",Q+"-close"),s.setAttribute("class",C+"-close"),s.innerHTML="X",T.box.appendChild(s),i(s,"click",function(t){c(t),T.close()},!1)}if(!H&&T.opt.closeOnClick&&i(T.box,"click",function(t){c(t),T.close()},!1),"string"==typeof T.opt.loadingAnimation)w=document.createElement("img"),w.setAttribute("src",T.opt.loadingAnimation),r(w,C+"-loading-animation"),T.box.appendChild(w);else if(T.opt.loadingAnimation){T.opt.loadingAnimation="number"==typeof T.opt.loadingAnimation?T.opt.loadingAnimation:200,w=document.createElement("div"),r(w,C+"-loading-animation");for(var l=0;l<T.opt.animElCount;)q.push(w.appendChild(document.createElement("span"))),l++;T.box.appendChild(w)}T.opt.responsive?(i(window,"resize",function(){T.resize()},!1),r(T.box,C+"-nooverflow")):o(T.box,C+"-nooverflow"),T.opt.keyControls&&i(document,"keydown",function(t){V&&(c(t),39===t.keyCode?T.next():37===t.keyCode?T.prev():27===t.keyCode&&T.close())},!1)}function x(t,e,o,l){if(!t&&!e)return!1;W=e||W||s(t,L+"-group"),W&&(R=d(W),"boolean"!=typeof t||t||(t=R[0])),S.img=new Image,B=t;var p;p="string"==typeof t?t:s(t,L)?s(t,L):s(t,"src"),N=!1,V||("number"==typeof T.opt.animation&&r(S.img,C+"-animate-transition "+C+"-animate-init"),V=!0,T.opt.onopen&&T.opt.onopen(S)),T.opt&&a(T.opt.hideOverflow)&&!T.opt.hideOverflow||z.setAttribute("style","overflow: hidden"),T.box.setAttribute("style","padding-top: 0"),T.wrapper.innerHTML="",T.wrapper.appendChild(S.img),T.opt.animation&&r(T.wrapper,C+"-animate");var u=s(t,L+"-caption");if(u&&T.opt.captions){var m=document.createElement("p");m.setAttribute("class",C+"-caption"),m.innerHTML=u,T.wrapper.appendChild(m)}r(T.box,C+"-active"),H&&r(T.wrapper,C+"-active"),T.opt.controls&&R.length>1&&(v(),y()),S.img.onerror=function(t){T.opt.onloaderror&&(t._happenedWhile=l||!1,T.opt.onloaderror(t))},S.img.onload=function(){if(S.originalWidth=this.naturalWidth||this.width,S.originalHeight=this.naturalHeight||this.height,H||O){var t=new Image;t.setAttribute("src",p),S.originalWidth=t.width,S.originalHeight=t.height}var e=setInterval(function(){n(T.box,C+"-active")&&(r(T.wrapper,C+"-wrapper-active"),"number"==typeof T.opt.animation&&r(S.img,C+"-animate-transition"),o&&o(),h(),clearTimeout(_),T.opt.preload&&f(),T.opt.nextOnClick&&(r(S.img,C+"-next-on-click"),i(S.img,"click",function(t){c(t),T.next()},!1)),T.opt.onimageclick&&i(S.img,"click",function(t){c(t),T.opt.onimageclick(S)},!1),T.opt.onload&&T.opt.onload(l),clearInterval(e),T.resize())},10)},S.img.setAttribute("src",p),g()}var w,A,_,I,E,j,k,C="jslghtbx",Q="jslghtbx",L="data-jslghtbx",T=this,H=!1,O=!1,z=document.getElementsByTagName("body")[0],M='<div class="jslghtbx-contentwrapper" id="jslghtbx-contentwrapper" ></div>',N=!1,W=!1,B=!1,S={},R=[],V=!1,q=[],D=!1,G=!1;T.opt={},T.box=!1,T.wrapper=!1,T.thumbnails=[],T.load=function(t){navigator.appVersion.indexOf("MSIE 8")>0&&(H=!0),navigator.appVersion.indexOf("MSIE 9")>0&&(O=!0),b(t);for(var e=document.querySelectorAll("["+L+"]"),i=0;i<e.length;i++)l(e[i],L)&&(e[i].setAttribute(L+"-index",i),T.thumbnails.push(e[i]),p(e[i]))},T.open=function(t,e){t&&e&&(e=!1),x(t,e,!1,!1)},T.resize=function(){if(S.img){I=e(),E=t();var i=T.box.offsetWidth,n=T.box.offsetHeight;!N&&S.img&&S.img.offsetWidth&&S.img.offsetHeight&&(N=S.img.offsetWidth/S.img.offsetHeight),Math.floor(i/N)>n?(j=n*N,k=n):(j=i,k=i/N),j=Math.floor(j*T.opt.maxImgSize),k=Math.floor(k*T.opt.maxImgSize),(T.opt.dimensions&&k>S.originalHeight||T.opt.dimensions&&j>S.originalWidth)&&(k=S.originalHeight,j=S.originalWidth),S.img.setAttribute("width",j),S.img.setAttribute("height",k),S.img.setAttribute("style","margin-top:"+(t()-k)/2+"px"),setTimeout(y,200),T.opt.onresize&&T.opt.onresize(S)}},T.next=function(){if(W){var t=m(B,W)+1;if(R[t])B=R[t];else{if(!T.opt.carousel)return;B=R[0]}"number"==typeof T.opt.animation?(o(S.img,C+"-animating-next"),setTimeout(function(){x(B,!1,function(){setTimeout(function(){r(S.img,C+"-animating-next")},T.opt.animation/2)},"next")},T.opt.animation/2)):x(B,!1,!1,"next")}},T.prev=function(){if(W){var t=m(B,W)-1;if(R[t])B=R[t];else{if(!T.opt.carousel)return;B=R[R.length-1]}"number"==typeof T.opt.animation?(o(S.img,C+"-animating-prev"),setTimeout(function(){x(B,!1,function(){setTimeout(function(){r(S.img,C+"-animating-next")},T.opt.animation/2)},"prev")},T.opt.animation/2)):x(B,!1,!1,"prev")}},T.close=function(){W=!1,B=!1;var t=S;S={},R=[],V=!1,o(T.box,C+"-active"),o(T.wrapper,C+"-wrapper-active"),o(D,C+"-active"),o(G,C+"-active"),T.box.setAttribute("style","padding-top: 0px"),h(),H&&T.box.setAttribute("style","display: none"),T.opt&&a(T.opt.hideOverflow)&&!T.opt.hideOverflow||z.setAttribute("style","overflow: auto"),T.opt.onclose&&T.opt.onclose(t)}}var isAdminLogin=!1,num_rand=0,elementAdminBar=document.getElementById("admin_bar_iframe");elementAdminBar&&(isAdminLogin=!0);var version="v3.2.2",url_base="https://alireviews.fireapps.io";if(jQuery("#shopify-ali-review").length>0){jQuery("head").append('<link href="https://fonts.googleapis.com/css?family=Montserrat:400,600,700" rel="stylesheet">'),jQuery("head").append('<link rel="stylesheet" href="'+url_base+"/css/frontend/libs/star-rating/rating.css?v="+version+'" />'),jQuery("head").append('<link rel="stylesheet" href="'+url_base+"/css/frontend/libs/light-box/lightbox.css?v="+version+'" />'),jQuery("#shopify-ali-review").find(".shop_info").css("display","block"),jQuery("#shopify-ali-review").find(".shop_info").removeClass("hidden");var shopId=jQuery("#shopify-ali-review .shop_info").attr("shop-id"),productId=jQuery("#shopify-ali-review").attr("product-id"),products_not_in=jQuery("#shopify-ali-review").attr("products-not-in"),shop_url=window.location.host;setTimeout(function(){jQuery.ajax({method:"GET",url:"https://"+shop_url+"/a/comment/get_review",data:{product_id:productId,shop_id:shopId,products_not_in:products_not_in,num_rand:num_rand,isAdminLogin:isAdminLogin},success:function(t){if(1==t.status){if(jQuery("#shopify-ali-review .reviews").html(t.view),0!=productId){if(!jQuery(".alireview-title-star-ratting").length){jQuery("<style>.alireview-title-star-ratting li{ list-style: none !important;padding: 0!important;margin: 0 3px 0 0 !important;}</style>").insertAfter('h1[itemprop="name"]');jQuery('h1[itemprop="name"]').append('<br><ul style="display: inline-block;\n    list-style: none !important;\n    line-height: 25px !important;\n    font-size: 13px !important;\n    font-family: arial !important;\n    margin: 0;\n    padding: 0;" class="alireview-title-star-ratting"></ul>')}var e=t.total_review,i=t.avg;setTimeout(function(){rating(document.querySelector(".alireview-title-star-ratting"),i,5,!1,!1,t.rating_point),0!=e?jQuery(".alireview-title-star-ratting").append('<span style="padding-left: 10px;    font-weight: normal; text-transform: initial;font-size: 13px">'+t.text_reviews+"</span>"):jQuery(".alireview-title-star-ratting").append('<span style="padding-left: 10px;    font-weight: normal; text-transform: initial;font-size: 13px"></span>')},0)}t.limit&&(num_rand=t.limit)}else jQuery("#shopify-ali-review").hide()}})},0)}if(jQuery(".alireview-summary-star-collection").length>0){jQuery("head").append('<link rel="stylesheet" href="'+url_base+'/css/frontend/libs/star-rating/rating.css" />'),jQuery(".alireview-summary-star-collection").addClass("alireview-clearfix");var shop_url=window.location.host,product_ids=[],shop_domain="";jQuery(".alireview-summary-star-collection").each(function(t){var e=(jQuery(t.currentTargetReturns),jQuery(this).attr("product-id"));product_ids.push(e),shop_domain=jQuery(this).attr("shop-domain"),jQuery(this).html('<div class="alireview-star alireview-star'+e+'" data-id="'+e+'"></div>')}),setTimeout(function(){jQuery.ajax({method:"GET",url:"https://"+shop_url+"/a/comment/get_summary_star_collection",data:{product_ids:product_ids,shop_domain:shop_domain,isAdminLogin:isAdminLogin},success:function(t){var e=t.avg_star,i=t.rating_point,n=t.total_review;jQuery(".alireview-summary-star-collection .alireview-star").each(function(t){for(var o=jQuery(this).attr("data-id"),r=e[o],a=n[o],s=document.querySelectorAll(".alireview-summary-star-collection .alireview-star"+o),l=0;l<s.length;l++)rating(s[l],r,5,!1,!1,i);$(".alireview-summary-star-collection .alireview-star"+o).append('<span style="padding-left: 10px;">('+a+")</span>")})}})},0)}!function(){"use strict";function t(t,e,i,n,o,r){function a(t,e){for(var i=0;i<t.length;i++){e(t[i],i)}}function s(t){l(t),p(t),c(t)}function l(t){t.addEventListener("mouseover",function(e){a(m,function(e,i){i<=parseInt(t.getAttribute("data-index"))?e.classList.add("is-active"):e.classList.remove("is-active")})})}function p(t){t.addEventListener("mouseout",function(t){-1===m.indexOf(t.relatedTarget)&&u(null,!1)})}function c(t){t.addEventListener("click",function(e){e.preventDefault(),u(parseInt(t.getAttribute("data-index"))+1,!0)})}function u(t,n){t&&t<0||t>i||(void 0===n&&(n=!0),e=t||e,a(m,function(t,i){i<e?t.classList.add("is-active"):t.classList.remove("is-active")}),o&&n&&o(d()))}function d(){return e}var m=[];return function(){if(!t)throw Error("No element supplied.");if(!i)throw Error("No max rating supplied.");if(e||(e=0),e<0||e>i)throw Error("Current rating is out of bounds.");for(var o="",a=0;a<i;a++){o+='<li class="c-rating__item '+(a<e?"is-active":"")+" alireview-rating-point-"+r+'" data-index="'+a+'"></li>';var l=document.createElement("li");l.classList.add("c-rating__item"),l.setAttribute("data-index",a),a<e&&l.classList.add("is-active"),n&&(t.appendChild(l),m.push(l),s(l))}n||(t.innerHTML=o)}(),{setRating:u,getRating:d}}window.rating=t}();